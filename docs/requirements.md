# KANPAI就活 LP 要件定義書

**版**: 1.0  
**対象**: Github Pages 公開・Contents Manager 拡張による運用の簡単さ重視のLP

---

## 1. プロジェクト概要

### 1.1 目的

- 学生集客イベント向けの**モダンで集客力の高いLP**を、**Github Pages** と **独自ドメイン** で公開する。
- **運用の簡単さを最優先**とし、非エンジニアの現場が **GUI 操作のみでコンテンツ編集を完結**できるようにする。
- 編集対象は **Contents Manager に集約**し、現場の混乱を減らす。
- Manus は将来的に廃止し、**Github Pages 一本化**を前提とする（保険としての Manus 利用は可能であれば考慮するが、実現可能なら一本化を検討する）。

### 1.2 背景・経緯

- 当初は Manus の Web Static 機能で非エンジニアが GUI 編集する想定だった。
- 媒体別の流入分析のため、**同一コンテンツで URL クエリのみ変えた複数URL**（例: `?from=free`, `?from=saiyocom`）が必要となり、媒体数分の Manus プロジェクトはコストがかかりすぎる。
- 加えて Manus は main 反映にもクレジット消費がありコストが高いため、Github Pages による運用に切り替える方針。

### 1.3 ステークホルダー・ユーザー

| 役割 | 説明 |
|------|------|
| **運用担当（主ユーザー）** | 非エンジニア。イベント情報・画像・文言の更新を Contents Manager の GUI で行う。 |
| **企画・マーケ** | 媒体別 QR コード（URL クエリ付き）の配布、流入分析の利用。 |
| **開発** | 初回構築・Github Pages デプロイ・必要に応じた機能拡張。 |

---

## 2. 機能要件

### 2.1 コンテンツ管理（Contents Manager に集約）

| ID | 要件 | 詳細 | 優先度 |
|----|------|------|--------|
| F-1 | 編集画面の一元化 | ロゴ・イベント画像・イベント一覧・テーマ（カラーパレット）など、LP に表示する編集可能項目を **1 つの Contents Manager 画面で完結**する。画像専用の別画面（Image Manager）は廃止し、Contents Manager に統合する。 | 必須 |
| F-2 | アクセス制御 | Contents Manager はアクセスコード（または同等の簡易認証）で保護し、関係者のみが編集できるようにする。 | 必須 |
| F-3 | プレビュー | 編集内容を **「プレビューを見る」** で LP として即時確認できるようにする。 | 必須 |
| F-4 | イベント情報の CRUD | 日時（表示用）・時間帯・場所・参加企業数・募集学生数などのイベント情報を、一覧の追加・編集・削除・並び替えで管理する。先頭 1 件を「次回のイベント」として表示する。 | 必須 |
| F-5 | ブランドロゴの差し替え | ヘッダー・ヒーロー・フッターに表示するロゴを、GUI からアップロード・差し替え・デフォルトへ戻す操作で変更できるようにする。 | 必須 |
| F-6 | イベント画像の差し替え・追加 | About セクション等で使うイベント画像について、**差し替え・枚数追加**を GUI で行えるようにする。ファイル名の扱いは **プログラム側で統一**し、ユーザーはファイル選択のみでよい（後述「画像のファイル名」参照）。 | 必須 |
| F-7 | テーマ（カラーパレット）の選択 | 5〜10 パターン程度のカラーパレットを用意し、Contents Manager から選択するだけで LP の見た目を切り替えられるようにする。 | 必須 |

### 2.2 画像の取り扱い（運用の簡単さ・GUI 完結の優先）

| ID | 要件 | 詳細 | 優先度 |
|----|------|------|--------|
| F-8 | 画像アップロードの GUI 完結 | 画像の差し替え・追加は **ファイル選択（ドラッグ＆ドロップまたは選択ボタン）のみ**で完結する。ユーザーがファイル名やパスを意識する必要はない。 | 必須 |
| F-9 | ファイル名の正規化 | アップロードされたファイルは、**プログラム側で一意・安全なファイル名に変換**して保存する（例: スロット識別子 + 拡張子のみ許可、または UUID ベース＋拡張子）。日本語・スペース・特殊文字による不具合を防ぐ。 | 必須 |
| F-10 | 画像の参照方式 | 保存先（リポジトリ内の assets または外部ストレージ）に応じ、**設定には正規化後のファイル名または URL のみ**を保持する。LP はその設定を参照して表示する。 | 必須 |
| F-11 | 画像の追加（枚数可変） | イベント画像が 3 枚固定でなく、**枚数を増減**できる場合、設定上は「画像のリスト」で管理し、GUI では「画像を追加」「削除」でリストを編集できるようにする。 | 推奨 |

### 2.3 媒体別 URL・流入分析

| ID | 要件 | 詳細 | 優先度 |
|----|------|------|--------|
| F-12 | クエリパラメータによる識別 | 同一 LP を、URL のクエリのみ変えて配布する（例: `https://example.com/?from=free`, `?from=saiyocom`）。**サイトの中身は同一**で、媒体ごとに異なる QR コード・リンクで運用する。 | 必須 |
| F-13 | 流入経路の分析 | 事後にどの媒体から流入したかを分析できるようにする。クエリ（`from`）の付与は QR コード・リンク側で行い、LP 側は特に特別な実装をしなくてよい（必要なら計測用スクリプトで `from` を読み取る）。 | 必須 |

### 2.4 公開・デプロイ

| ID | 要件 | 詳細 | 優先度 |
|----|------|------|--------|
| F-14 | Github Pages での公開 | ビルド成果物を **Github Pages** で公開する。 | 必須 |
| F-15 | 独自ドメイン | 必要に応じて **カスタムドメイン** を設定できるようにする。 | 推奨 |
| F-16 | 編集の反映フロー | 運用の簡単さを重視するため、**Contents Manager での編集 → 保存 → ビルド・デプロイ**までのフローを、可能な範囲で自動化または半自動化する（例: 保存時に設定ファイルを更新し、Github にコミットする、またはエクスポートした設定をリポジトリに配置する手順を明確化する）。 | 必須 |

---

## 3. 非機能要件

### 3.1 運用性（最優先）

| ID | 要件 | 詳細 |
|----|------|------|
| NFR-1 | GUI 完結 | 日常の更新（文言・日時・画像の差し替え・追加・テーマ変更）は、**コードや Git を触らずに Contents Manager の GUI のみで完結**することを目指す。 |
| NFR-2 | 編集画面の単一化 | 編集は **Contents Manager に集約**し、「画像はこっち、文言はあっち」といった分散を避け、現場の混乱を減らす。 |
| NFR-3 | 手順の明確化 | 保存から公開までの手順（例: 「保存」→ エクスポート → リポジトリに配置 → デプロイ）は **ドキュメント化**し、非エンジニアでも手順に沿って実行できるようにする。 |

### 3.2 セキュリティ

| ID | 要件 | 詳細 |
|----|------|------|
| NFR-4 | Contents Manager の保護 | Contents Manager はアクセスコード等で保護し、一般公開されないようにする。 |
| NFR-5 | トークン・認証情報 | GitHub API 等を利用する場合、トークンは環境変数や Secrets で管理し、ソースコードに含めない。 |

### 3.3 パフォーマンス・制約

| ID | 要件 | 詳細 |
|----|------|------|
| NFR-6 | 静的サイト | Github Pages の制約に従い、**静的サイト**としてビルド・公開する。 |
| NFR-7 | 画像サイズ・形式 | アップロード可能な画像の形式・最大サイズを定め（例: 5MB 以下、JPG/PNG/WebP 等）、超過時は GUI で注意を表示する。 |

---

## 4. 制約・前提条件

- **Github Pages** を利用するため、動的サーバー・DB は使わない。コンテンツはビルド時に組み込むか、静的 JSON 等で配信する。
- 編集結果の **永続化** は、(1) リポジトリ内の設定ファイル（JSON/YAML）を更新する、(2) または外部のストレージ/API を利用する、のいずれかで実現する。運用の簡単さを優先する場合は、可能であれば「保存 → リポジトリ更新」までを自動化する方式を検討する。
- **Manus** は廃止方向。Github Pages 一本化が実現可能であれば、Manus への依存は設けない。

---

## 5. 用語集

| 用語 | 説明 |
|------|------|
| Contents Manager | LP の文言・画像・イベント・テーマを編集するための管理画面。編集対象をここに集約する。 |
| 媒体別 URL | 同じ LP に対して、クエリパラメータ（例: `from=free`）だけを変えた URL。流入分析用。 |
| 正規化（ファイル名） | アップロードされたファイルを、プログラムで一意・安全な名前（例: `scene1.png`, `logo.webp`）に変換すること。ユーザーは元のファイル名を意識しない。 |
| カラーパレット / テーマ | LP の配色を切り替えるための 5〜10 パターンのプリセット。 |

---

## 6. 今後の検討事項（スコープ外または将来）

- Manus とのブランチ運用（main = Manus 等）は、Github Pages 一本化を前提とするため、基本的に想定しない。
- 高度なアクセス制御（SSO 等）は、必要に応じて別フェーズで検討する。

---

*本要件定義書は、設計書（design.md）とあわせて構築フェーズの入力とする。*
